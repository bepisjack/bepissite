<!DOCTYPE html>
<html>
<title>Rank Check</title>
<body>
<style>
    body {
        background-image: url(/rift2.jpg);
        background-size:105%;
        background-repeat: no-repeat;
        background-color: black;
    }
</style>
<body onload="getData()">
<script>

async function getData() {
    try {
        const response = await fetch('http://localhost:3000/rank/data');  // Call your backend endpoint
        
        if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
        }

        const data = await response.json();
        displayRank(data);
    } catch (error) {
        console.error(error.message);
    }
}

function displayRank(rankDataArray) {
    const soloQueueEntry = rankDataArray.find(entry => entry.queueType === "RANKED_SOLO_5x5");

    if (soloQueueEntry) {
        const tier = soloQueueEntry.tier;
        const rank = soloQueueEntry.rank;
        const lp = soloQueueEntry.leaguePoints;
        const wins = soloQueueEntry.wins;
 
        const displayString = `${tier} ${rank} (${lp} LP)`;

        const winstring = `Wins: ${wins}`;
        
        console.log('Rank:', displayString); 

        console.log('Wins:', winstring);

        document.getElementById("rank").textContent = displayString;

        document.getElementById("wins").textContent = winstring;

   const rankdollar = `/${tier.toLowerCase()}hayden.png`;

const imageElement = document.getElementById('dynamic-image'); 

imageElement.src = rankdollar;


    } else {
        console.log("No Solo Queue data found for this player");
        document.getElementById("rank").textContent = "Unranked or no data found";
    }

 
}

</script>



<div style="display: block; align-content: center; width: fit-content; margin: auto; text-align: center;font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; font-size: 200%; line-height: 0.4; color: rgb(0, 0, 0); text-shadow: 2px 2px rgb(255, 255, 255), 1px 1px 30px black, 1px 1px 10px black;":>
<p id="rank">Loading Rank</p> <p id="wins">...</p>
<p style="box-shadow: 4px 4px black, 1px 1px 25px black;">
    <a href="https://www.youtube.com/watch?v=210R0ozmLwg">
<img id="dynamic-image" src="" alt="dynamic-image">
</p></a>

</div>
</body>
</html>


